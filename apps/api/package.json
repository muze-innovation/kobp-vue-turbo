{
  "name": "lvcmr-sv-core",
  "version": "0.0.1",
  "description": "True LiveCommerce Core Service",
  "main": "lib/server.js",
  "scripts": {
    "dev:run": "ts-node-dev --respawn -T src/server.ts",
    "dev": "source ./.dev/local.env.sh && yarn dev:run",
    "clean": "rm -fr ./lib",
    "build": "tsc",
    "start": "node ./lib/server.js",
    "start:withVault": "./vaultenv --addr $VAULT_ADDR --port $VAULT_PORT --token $VAULT_TOKEN --secrets-file ./vaultenv.secrets yarn start || yarn start",
    "mikro:dev": "DOTENV_CONFIG_PATH=./.dev/.env.local.migrator node -r dotenv/config ./node_modules/.bin/mikro-orm",
    "migrate:create": "source ./.dev/local.env.sh && ./node_modules/.bin/mikro-orm migration:create",
    "migrate:down": "source ./.dev/local.env.sh && ./node_modules/.bin/mikro-orm migration:down",
    "migrate:up": "source ./.dev/local.env.sh && ./node_modules/.bin/mikro-orm migration:up",
    "test:e2e": "DOTENV_CONFIG_PATH=./.dev/.env.local.e2e node -r dotenv/config ./node_modules/.bin/jest --config=jest.config.js src/__tests__/e2e/",
    "test:e2e:dev": "DOTENV_CONFIG_PATH=./.dev/.env.dev.e2e node -r dotenv/config ./node_modules/.bin/jest --config=jest.config.js src/__tests__/e2e/",
    "test:e2e:qa": "DOTENV_CONFIG_PATH=./.dev/.env.qa.e2e node -r dotenv/config ./node_modules/.bin/jest --config=jest.config.js src/__tests__/e2e/",
    "test:units": "yarn _units",
    "test:integral": "source ./.dev/local.env.sh && ./node_modules/.bin/jest --forceExit --detectOpenHandles --config=jest.config.js src/__tests__/integral/ src/__tests__/units/",
    "test:docker": "yarn install --production=false && env && yarn _units && yarn _mgrt:up && yarn _integral",
    "_mgrt:up": "yarn cache clean && yarn && ./node_modules/.bin/mikro-orm migration:up",
    "_integral": "node -r dotenv/config ./node_modules/.bin/jest --coverage --forceExit --detectOpenHandles --config=jest.config.js src/__tests__/integral/ src/__tests__/units/",
    "_units": "node -r dotenv/config ./node_modules/.bin/jest --coverage --forceExit --detectOpenHandles --config=jest.config.js src/__tests__/units/"
  },
  "engines": {
    "node": "v14",
    "yarn": "^1.5"
  },
  "dependencies": {
    "@koa/cors": "^3.1.0",
    "@mikro-orm/core": "^4.5.3",
    "@mikro-orm/mysql-base": "^4.5.3",
    "@mikro-orm/postgresql": "^4.3.4",
    "axios": "^0.21.1",
    "cerialize": "^0.1.18",
    "ioredis": "^4.26.0",
    "kafkajs": "^1.15.0",
    "koa": "^2.9.0",
    "koa-router": "^10.0.0",
    "kobp": "^0.0.32",
    "lodash": "^4.17.20",
    "luxon": "^1.26.0",
    "mikro-orm-cache-adapter-redis": "^1.1.1",
    "newrelic": "^8.6.0",
    "source-map-support": "^0.5.19"
  },
  "devDependencies": {
    "@mikro-orm/cli": "^4.3.3",
    "@types/jest": "^26.0.20",
    "@types/jsonwebtoken": "^8.5.8",
    "@types/koa": "^2.11.6",
    "@types/koa-bodyparser": "^4.3.0",
    "@types/koa-router": "^7.4.2",
    "@types/luxon": "^1.25.0",
    "@types/ms": "^0.7.31",
    "@types/newrelic": "^7.0.2",
    "@types/node": "^14.14.6",
    "@types/uuid": "^8.3.0",
    "@types/webpack-env": "^1.16.0",
    "@typescript-eslint/eslint-plugin": "^4.9.1",
    "@typescript-eslint/parser": "^4.9.1",
    "dotenv": "^8.2.0",
    "eslint": "^7.15.0",
    "jest": "^26.6.3",
    "ts-jest": "^26.4.4",
    "ts-node-dev": "^1.1.6",
    "tsconfig": "*",
    "typescript": "^4.0.5"
  },
  "mikro-orm": {
    "useTsNode": true,
    "configPaths": [
      "./src/db/orm.config.ts"
    ]
  },
  "author": "Kittiphat S",
  "license": "MIT"
}
